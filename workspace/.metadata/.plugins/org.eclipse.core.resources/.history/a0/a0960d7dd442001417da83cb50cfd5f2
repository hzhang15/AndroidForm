package com.foxitsample.pdfLib;

import com.foxitsample.exception.invalidLicenseException;
import com.foxitsample.exception.parameterException;
import com.foxitsample.formfiled.testActivity;

import FoxitEMBSDK.EMBJavaSupport;
import FoxitEMBSDK.EMBJavaSupport.CPDFFormFillerInfo;
import FoxitEMBSDK.EMBJavaSupport.CPDFJsPlatform;
import android.graphics.Bitmap;
import android.graphics.Rect;
import com.foxitsample.formfiled.PDFView;

public class PDFDocument {
	
	public String filePath;
	public testActivity test;
	public PDFView pdfview;
	private CPDFFormFillerInfo formFillerInfo = null;
	private int nPDFFormFillerInfo = 0;
	private CPDFJsPlatform jsPlatform = null;
	private int nPDFJsPlatform = 0;
	private int nPDFFormHandler = 0;
	public PDFDocument(String filePath)
	{
		this.filePath=filePath;
	}
	
	public void generateImage(int pageIndex, int pageWidth, int pageHeight, Rect viewRect)
	{
		
		
  		
	}
	public boolean InitFoxitFixedMemory() throws parameterException, invalidLicenseException{
		EMBJavaSupport.FSMemInitFixedMemory(5*1024*1024);		
		EMBJavaSupport.FSInitLibrary(0);
		EMBJavaSupport.FSUnlock("SDKEDTEMP", "019BF43365F8BF984D694D44332D9223EC4C95B7");
		if (test == null) 
			return false;
		
		jsPlatform = new EMBJavaSupport().new CPDFJsPlatform();
		if (jsPlatform == null)
			return false;
		nPDFJsPlatform = EMBJavaSupport.FPDFJsPlatformAlloc(jsPlatform);
		if (nPDFJsPlatform == 0)
			return false;
		
		EMBJavaSupport.FPDFFormFillerInfoSetJsPlatform(nPDFFormFillerInfo, nPDFJsPlatform);
		EMBJavaSupport.FPDFJsPlatformSetFormFillerInfo(nPDFJsPlatform, nPDFFormFillerInfo);
				
		return true;
	}
}
